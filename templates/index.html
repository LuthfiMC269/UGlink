<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content="Link Shortener Untuk Seluruh Sivitas Universitas Gunadarma."/>
    <title>Gundr.link - Shortlink</title>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("shortlinkForm");
            const urlInput = document.getElementById("urlInput");
            const slugInput = document.getElementById("slugInput");
            const resultDiv = document.getElementById("result");
            const resultQrDiv = document.getElementById("resultQr")
            const divResult = document.getElementById("divResult")
            const menuButton = document.getElementById("menuButton");
            const mobileMenu = document.getElementById("mobileMenu");

            slugInput.addEventListener("input", function () {
                let value = slugInput.value;
                // Ganti semua spasi dengan "-"
                slugInput.value = value.replace(/\s+/g, "-");
            });

            form.addEventListener("submit", async function (e) {
                e.preventDefault();
                const payload = {
                    url: urlInput.value,
                    slug: slugInput.value
                };
                const response = await fetch("/", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(payload)
                });
                const data = await response.json();
                if (data.status === "success") {
                    resultDiv.innerHTML = `<p class="text-black">${data.message}</p><p class="text-black">Link: <a href="${data.shortlink}" target="_blank" class="underline">${data.shortlink}</a></p>`;
                    resultQrDiv.innerHTML = `<p class="text-black flex flex-row">Kode QR: <img src="data:image/png;base64,${data.qrimage}" alt="QR Code" class=" ml-2 w-40 h-40"></p>`;
                    form.reset();
                } else {
                    resultDiv.innerHTML = `<p class="text-red-600">${data.message}</p>`;
                }
                divResult.classList.add("bg-green-200");
                divResult.classList.remove("hidden");
            });

            // Toggle menu mobile
            function openMenu() {
                mobileMenu.classList.remove("closing");
                mobileMenu.style.display = "flex"; // tampil dulu
                setTimeout(() => mobileMenu.classList.add("open"), 10);
                menuButton.classList.add("hamburger-active");
            }

            function closeMenu() {
                mobileMenu.classList.remove("open");
                mobileMenu.classList.add("closing");
                menuButton.classList.remove("hamburger-active");
                mobileMenu.addEventListener("transitionend", function handler() {
                    mobileMenu.style.display = "none";
                    mobileMenu.removeEventListener("transitionend", handler);
                });
            }

            menuButton.addEventListener("click", () => {
                if (mobileMenu.classList.contains("open")) {
                    closeMenu();
                } else {
                    openMenu();
                }
            });

            document.addEventListener("click", function (e) {
                if (!mobileMenu.contains(e.target) && !menuButton.contains(e.target)) {
                    if (mobileMenu.classList.contains("open")) closeMenu();
                }
            });
        });
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
          rel="stylesheet">
    <link href="/static/output.css" rel="stylesheet">
</head>
<body class="min-h-screen bg-gradient-to-b from-[#FEE9D8] to-[#E8E2F1] font-sans flex flex-col fl"
      style="font-family: Urbanist, sans-serif">
<!-- Header -->
<header class="flex items-center justify-between px-6 pt-10 pb-5 lg:px-24 lg:pt-12 sticky top-0 backdrop-blur-lg">
    <div class="flex items-center gap-4">
        <img
                src="https://api.builder.io/api/v1/image/assets/TEMP/0829114a406b7bc1d6a533cc3e0c1ad64c401fa5?width=174"
                alt="Universitas Gunadarma Logo"
                class="w-16 h-16 lg:w-[87px] lg:h-[87px]"
        />
        <h1 class="text-2xl lg:text-[48px] font-bold text-black leading-none">
            Gundr.link
        </h1>
    </div>
    <!-- navbar desktop-->
    <nav class="hidden md:flex text-2xl font-medium gap-6">
        <a href="#Penggunaan">Penggunaan</a>
        <a href="#Kontak">Kontak</a>
    </nav>
    <!-- navbar mobile-->
    <div class="relative md:hidden">
        <button id="menuButton" class="flex flex-col justify-center w-7 h-6 space-y-2">
            <span class="hamburger-line line-1 block h-1 bg-black rounded"></span>
            <span class="hamburger-line line-2 block h-1 bg-black rounded"></span>
            <span class="hamburger-line line-3 block h-1 bg-black rounded"></span>
        </button>

        <!-- Popup Menu -->
        <div id="mobileMenu"
             class="absolute right-0 mt-2 w-40 bg-white shadow-lg rounded-lg p-4 flex flex-col gap-3 items-end text-right">
            <a href="#Penggunaan" class="hover:text-gray-600 w-30">Penggunaan</a>
            <a href="#Kontak" class="hover:text-gray-600 w-30">Kontak</a>
        </div>
    </div>
</header>

<!-- Main Content -->
<main class="flex flex-col items-center justify-center px-6 pt-0 py-8 lg:py-16">
    <!-- Title Section -->
    <div class="text-center mb-8 lg:mb-16">
        <h2 class="text-2xl lg:text-[48px] font-bold text-black mb-2 lg:mb-4 leading-tight">
            Universitas Gunadarma Shortlink
        </h2>
        <p class="text-lg lg:text-[36px] text-black font-normal leading-tight max-w-5xl">
            Link Shortener Untuk Seluruh Sivitas Universitas Gunadarma
        </p>
    </div>

    <!-- Form Container -->
    <div class="w-full max-w-6xl bg-white rounded-[15px] shadow-lg p-6 mb-6 lg:p-12">
        <form id="shortlinkForm" class="space-y-6">
            <!-- URL Input -->
            <div>
                <label class="block text-lg lg:text-[24px] font-bold text-black mb-3 lg:mb-4">
                    Tempel tautan tujuan
                </label>
                <input
                        id="urlInput"
                        type="url"
                        required
                        placeholder="https://contoh.com/tautan-panjang"
                        class="w-full border border-gray-300 rounded-[15px] p-3 lg:p-4 text-lg lg:text-[24px] h-[44px] bg-[#EFEFEF]"
                />
            </div>

            <!-- Custom Slug Input -->
            <div>
                <label class="block text-lg lg:text-[24px] font-bold text-black mb-3 lg:mb-4">
                    Tautan kustom
                </label>
                <div class="flex flex-row items-center">
                    <label class="block text-lg lg:text-[24px] font-bold text-black p-1">
                        Gundr.link/
                    </label>
                    <input id="slugInput" type="text" placeholder="short-links (opsional)"
                           class="w-full border h-[44px] border-gray-300 rounded-[15px] p-3 lg:p-4 text-lg lg:text-[24px] bg-[#EFEFEF]"/>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-center mb-3">
                <button
                        type="submit"
                        class="w-[311px] bg-[#525FE1] text-white font-bold rounded-[15px] py-3 lg:py-4 text-lg lg:text-[24px] hover:bg-[#4451D0]"
                >
                    <i class="bi bi-link-45deg text-white"></i> Perpendek tautan
                </button>
            </div>
            <div id="divResult" class="hidden rounded-[15px] flex md:flex-row flex-col items-start justify-between">
                <div id="result" class="m-4 text-md lg:text-[24px] text-white"></div>
                <div id="resultQr" class="m-4 text-md lg:text-[24px] text-white"></div>
            </div>
        </form>
    </div>
    <!--Terms Of Service-->
    <div id="Penggunaan" class="w-full max-w-6xl bg-white rounded-[15px] shadow-lg p-6 mb-6 lg:p-12">
        <div class="mb-6">
            <h2 class="text-2xl lg:text-[32px] font-bold text-black mb-2 lg:mb-4 leading-tight">
                Kebijakan Penggunaan
            </h2>
            <label class="text-lg md:text-[24px]">
                Aplikasi ini disediakan sebagai fasilitas untuk mempermudah penyingkatan tautan (link shortener) dan
                dapat digunakan oleh seluruh sivitas <strong>Universitas Gunadarma</strong> maupun <strong>masyarakat
                umum.</strong>
            </label>
        </div>
        <div class="mb-6">
            <h2 class="text-2xl lg:text-[32px] font-bold text-black mb-2 lg:mb-4 leading-tight">
                Aturan Penggunaan
            </h2>
            <ul style="list-style-type: disc" class="text-lg md:text-[24px] pl-6">
                <li>Dilarang menautkan yang mengarah ke konten negatif seperti, kekerasan, sara, atau pornografi
                </li>
                <li>Dilarang menautkan ke konten yang berbahaya entah perangkat lunak mencurigakan atau melanggar hak
                    privasi seseorang
                </li>
                <li>Seluruh aktivitas dan tautan yang dibuat dari aplikasi ini merupakan tanggung jawab penuh pembuat
                    tautan. Administrator tidak bertanggung jawab atas segala bentuk penyalahgunaan
                </li>
                <li>Administrator berhak menghapus tautan bila ditemukan pelanggaran aturan</li>
                <li>Peraturan dapat berubah sewaktu-waktu</li>
            </ul>
        </div>
        <h2 class="text-lg font-bold text-black mb-2 lg:mb-4 leading-tight">
            Dengan menggunakan aplikasi ini, anda dianggap telah membaca dan menyetujui seluruh aturan diatas.
        </h2>
    </div>
    <div id="Kontak" class="w-full max-w-6xl bg-white rounded-[15px] shadow-lg p-6 mb-6 lg:p-12">
        <h2 class="text-2xl lg:text-[32px] font-bold text-black mb-2 lg:mb-4 leading-tight">
            Kontak
        </h2>
        <h2 class="text-lg md:text-xl text-black leading-tight">
            Aplikasi dibuat oleh: <a href="https://lmcpsite.my.id" class="underline text-blue-500 hover:text-blue-800">https://lmcpsite.my.id</a>
        </h2>
        <h2 class="text-lg md:text-xl text-black leading-tight">
            Email: <a href="mailto:Luthfimc269@pm.me" class="underline text-blue-500 hover:text-blue-800">Luthfimc269@pm.me</a>
        </h2>
        <h2 class="text-lg md:text-xl text-black leading-tight mb-6">
            Website ini dipersembahkan untuk kampusku, <a href="https://gunadarma.ac.id"
                                                          class="underline text-blue-500 hover:text-blue-800">Gunadarma.ac.id</a>
        </h2>
        <h2 class="text-lg md:text-xl text-black leading-tight">
            Website ini tidak berafiliasi dengan administrasi Universitas Gunadarma dan dikelola secara pribadi sampai
            pemberitahuan selanjutnya. Silahkan hubungi kontak untuk informasi lebih lanjut.
        </h2>
    </div>
</main>
<footer class="bg-[#231F40] text-white py-8 lg:py-12 px-6 lg:px-24 mt-auto">
    <div class="flex flex-col lg:flex-row items-center justify-between">
        <div class="flex items-center gap-4 mb-4 lg:mb-0">
            <img
                    src="https://api.builder.io/api/v1/image/assets/TEMP/bb9a051e7653b83e2e07a413daf5dbb1e51ed57c?width=118"
                    alt="Universitas Gunadarma Logo"
                    class="w-12 h-12 lg:w-[59px] lg:h-[59px]"
            />
            <div class="text-center lg:text-left">
                <div class="text-lg lg:text-[24px] leading-tight">
                    <span class="font-normal">Universitas</span>
                    <br/>
                    <span class="font-bold">Gunadarma</span>
                </div>
            </div>
        </div>
        <div class="text-center lg:text-right">
            <p class="text-sm lg:text-[24px] font-normal">
                <i class="bi bi-c-circle"></i> 2025 lmcpsite.my.id All Rights Reserved
            </p>
            <p>
                Gundr.link is not affiliated with <a href="https://gunadarma.ac.id"
                                                     class="underline hover:text-gray-200">Gunadarma.ac.id</a>
                administration team. Contact <a href="https://lmcpsite.my.id" class="underline hover:text-gray-200">
                lmcpsite</a> for more info
            </p>
        </div>
    </div>
</footer>
</body>
</html>
